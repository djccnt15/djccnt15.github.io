---
published: true
layout: post
title: '[Git] 04. 기타 활용팁'
description: >
  그 외 각종 유용한 사용하는 명령어들: mv, rm, checkout, reset
categories: [SWEngineering]
tags: [git]
image:
  path: /assets/img/posts/git.png
related_posts:
  - _posts/swengineering/2022-01-16-manual_git_03.md
---
* toc
{:toc}

<h4>Git Series</h4>
<div class="taxonomy__index">
  <ol class="description">
    <li><a href="/swengineering/manual_git_01/">git 시작하기</a></li>
    <li><a href="/swengineering/manual_git_02/">저장소에 업로드 하기</a></li>
    <li><a href="/swengineering/manual_git_03/">원격 저장소에서 파일 가져오기</a></li>
    <li><a href="/swengineering/manual_git_04/">기타 활용팁</a></li>
  </ol>
</div>

## mv

파일 및 디렉토리를 옮기거나 이름을 바꾸는 명령어  

```powershell
# 파일 및 디렉토리를 이동
$ git mv <source> <destination>

# destination에 이미 파일이 있어도 강제로 이동
$ git mv -f <source> <destination>

# 충돌나는 경우를 제외하고 이동
$ git mv -k <source> <destination>

# dry-run을 통해 명령을 수행할 시 어떤 일이 일어날지 미리 보여줌
$ git mv -n <source> <destination>
```

## rm

파일을 워킹 트리와 인덱스에서 삭제하는 명령어  

```powershell
# 파일을 워킹 트리와 인덱스에서 삭제
$ git rm <pathspec>

# 파일을 원격 저장소에서만 삭제
$ git rm --cached <pathspec>
```

## checkout

작업 branch를 변경하기 위한 명령어로 `git rm`으로 지운 파일은 `git cheakout HEAD`로 되살릴 수 있다.  

```powershell
$ git checkout HEAD -- [filename]
```

💡 `git checkout` 명령에 뒤따라 오는 것이 파일이라는 것을 확실하게 해주기 위해 `--` 는 포함하는 것이 좋다고 한다. 만약 `--` 가 없다면, 파일이름이 브랜치 이름과 같을 경우 해당 브랜치로 체크아웃하거나, 특정 커밋 시점으로 저장소 전체가 되돌아갈 수 있다고 한다.
{:.note}

## reset

현재의 **HEAD**를 특정 상태로 되돌린다.  

```powershell
# commit 취소 및 index 리셋, 변경된 파일들은 unstaged 상태로 워킹 디렉터리에 보존
$ git reset HEAD^
$ git reset --mixed HEAD^

# commit 취소, 변경된 파일들은 staged 상태로 워킹 디렉터리에 보존
$ git reset --soft HEAD^

# commit 취소, 파일들은 unstaged 상태로 워킹 디렉터리에서 삭제
$ git reset --hard HEAD^
```

❗ `git reset --hard`를 사용하면 모든 변경 내역이 삭제되고 마지막 commit으로 되돌려진다.
{:.note title='attention'}